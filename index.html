<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ü—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã–π –∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä —Å–¥–æ–±–Ω–æ–≥–æ —Ç–µ—Å—Ç–∞</title>
    <style>
        :root {
            --primary: #5d4037;
            --secondary: #ff9800;
            --accent: #f57c00;
            --light: #fff8f0;
            --dark: #4e342e;
            --success: #4caf50;
            --warning: #ffc107;
            --danger: #f44336;
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Roboto, sans-serif;
        }
        
        body {
            background: linear-gradient(135deg, #fff3e0, #ffe0b2);
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 20px;
        }
        
        .container {
            width: 100%;
            max-width: 650px;
            background: white;
            border-radius: 20px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.15);
            overflow: hidden;
            padding: 30px;
        }
        
        header {
            text-align: center;
            padding-bottom: 25px;
            margin-bottom: 20px;
            position: relative;
        }
        
        header::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 50%;
            transform: translateX(-50%);
            width: 200px;
            height: 4px;
            background: linear-gradient(90deg, var(--secondary), var(--accent));
            border-radius: 2px;
        }
        
        h1 {
            color: var(--primary);
            font-size: 2.4rem;
            margin-bottom: 8px;
        }
        
        .subtitle {
            color: var(--dark);
            font-size: 1.1rem;
            opacity: 0.8;
        }
        
        .input-group {
            margin-bottom: 25px;
            position: relative;
        }
        
        label {
            display: block;
            font-weight: 600;
            color: var(--primary);
            margin-bottom: 10px;
            font-size: 1.1rem;
        }
        
        input {
            width: 100%;
            padding: 15px 20px;
            font-size: 1.1rem;
            border: 2px solid #e0e0e0;
            border-radius: 12px;
            transition: all 0.3s;
        }
        
        input:focus {
            outline: none;
            border-color: var(--secondary);
            box-shadow: 0 0 0 3px rgba(255, 152, 0, 0.2);
        }
        
        .error {
            border-color: var(--danger) !important;
            animation: shake 0.5s;
        }
        
        @keyframes shake {
            0%, 100% { transform: translateX(0); }
            20%, 60% { transform: translateX(-5px); }
            40%, 80% { transform: translateX(5px); }
        }
        
        .error-message {
            color: var(--danger);
            font-size: 0.9rem;
            margin-top: 8px;
            display: none;
        }
        
        .results-container {
            display: none;
            margin-top: 30px;
            background: var(--light);
            border-radius: 15px;
            padding: 25px;
            box-shadow: inset 0 0 10px rgba(0, 0, 0, 0.05);
        }
        
        .results-header {
            text-align: center;
            margin-bottom: 20px;
            color: var(--primary);
            font-size: 1.5rem;
            position: relative;
            padding-bottom: 10px;
        }
        
        .results-header::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 50%;
            transform: translateX(-50%);
            width: 100px;
            height: 3px;
            background: var(--accent);
        }
        
        .ingredient-group {
            margin-bottom: 25px;
        }
        
        .group-title {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-bottom: 15px;
            color: var(--dark);
            font-size: 1.2rem;
        }
        
        .ingredient-list {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
            gap: 15px;
        }
        
        .ingredient-card {
            background: white;
            border-radius: 12px;
            padding: 15px;
            box-shadow: 0 3px 10px rgba(0, 0, 0, 0.08);
            display: flex;
            align-items: center;
            gap: 15px;
        }
        
        .ingredient-icon {
            width: 40px;
            height: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
            background: rgba(255, 152, 0, 0.1);
            border-radius: 50%;
            font-size: 1.2rem;
        }
        
        .ingredient-info {
            flex: 1;
        }
        
        .ingredient-name {
            font-weight: 500;
            margin-bottom: 5px;
        }
        
        .ingredient-value {
            font-weight: 700;
            color: var(--primary);
            font-size: 1.1rem;
        }
        
        .ingredient-note {
            font-size: 0.8rem;
            color: #777;
            margin-top: 5px;
            line-height: 1.3;
        }
        
        .notes {
            background: white;
            border-radius: 12px;
            padding: 20px;
            margin-top: 25px;
            box-shadow: 0 3px 10px rgba(0, 0, 0, 0.08);
        }
        
        .notes-title {
            color: var(--dark);
            font-size: 1.2rem;
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .note-list {
            padding-left: 20px;
        }
        
        .note-list li {
            margin-bottom: 10px;
            line-height: 1.5;
        }
        
        @media (max-width: 600px) {
            .container {
                padding: 20px;
            }
            
            h1 {
                font-size: 2rem;
            }
            
            .ingredient-list {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>–ü—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã–π –∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä —Å–¥–æ–±–Ω–æ–≥–æ —Ç–µ—Å—Ç–∞</h1>
            <p class="subtitle">–ò–¥–µ–∞–ª—å–Ω—ã–µ –ø—Ä–æ–ø–æ—Ä—Ü–∏–∏ –¥–ª—è –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–π –ø—ã—à–Ω–æ—Å—Ç–∏</p>
        </header>
        
        <div class="input-group">
            <label for="flour">–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –º—É–∫–∏ (–≥):</label>
            <input type="number" id="flour" placeholder="–í–≤–µ–¥–∏—Ç–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –º—É–∫–∏..." value="500" oninput="calculateIngredients()">
            <div class="error-message" id="error">–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –≤–≤–µ–¥–∏—Ç–µ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –º—É–∫–∏!</div>
        </div>
        
        <div class="results-container" id="resultsContainer">
            <h2 class="results-header">–ò–Ω–≥—Ä–µ–¥–∏–µ–Ω—Ç—ã –¥–ª—è –∏–¥–µ–∞–ª—å–Ω–æ–≥–æ —Ç–µ—Å—Ç–∞</h2>
            
            <div class="ingredient-group">
                <div class="group-title">
                    <span>‚öñÔ∏è –û—Å–Ω–æ–≤–Ω—ã–µ –∏–Ω–≥—Ä–µ–¥–∏–µ–Ω—Ç—ã</span>
                </div>
                <div class="ingredient-list" id="mainIngredients"></div>
            </div>
            
            <div class="ingredient-group">
                <div class="group-title">
                    <span>üß´ –ó–∞–∫–≤–∞—Å–∫–∞</span>
                </div>
                <div class="ingredient-list" id="leavenIngredients"></div>
            </div>
            
            <div class="ingredient-group">
                <div class="group-title">
                    <span>üçØ –î–æ–±–∞–≤–∫–∏</span>
                </div>
                <div class="ingredient-list" id="additiveIngredients"></div>
            </div>
            
            <div class="ingredient-group">
                <div class="group-title">
                    <span>ü•ö –Ø–∏—á–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã</span>
                </div>
                <div class="ingredient-list" id="eggIngredients"></div>
            </div>
            
            <div class="notes">
                <div class="notes-title">
                    <span>üìù –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏</span>
                </div>
                <ul class="note-list" id="notesList"></ul>
            </div>
        </div>
    </div>

    <script>
        // –û–ø—Ç–∏–º–∞–ª—å–Ω—ã–µ –ø—Ä–æ–ø–æ—Ä—Ü–∏–∏ –¥–ª—è –ø—ã—à–Ω–æ–≥–æ —Ç–µ—Å—Ç–∞ (–Ω–∞ 500 –≥ –º—É–∫–∏)
        const BASE_FLOUR = 500;
        const BASE_MILK = 200;
        const BASE_BUTTER = 90;
        const BASE_SUGAR = 100;
        const BASE_SALT = 5;
        const BASE_DRY_YEAST = 8;
        const BASE_YOLKS = 2; // –∏–¥–µ–∞–ª—å–Ω–æ–µ —á–∏—Å–ª–æ –∂–µ–ª—Ç–∫–æ–≤
        const BASE_WHITES = 1; // –∏–¥–µ–∞–ª—å–Ω–æ–µ —á–∏—Å–ª–æ –±–µ–ª–∫–æ–≤
        const BASE_VANILLA = 10;
        
        function calculateIngredients() {
            const flourInput = document.getElementById('flour');
            const errorMessage = document.getElementById('error');
            const resultsContainer = document.getElementById('resultsContainer');
            const flour = parseFloat(flourInput.value);
            
            // –í–∞–ª–∏–¥–∞—Ü–∏—è –≤–≤–æ–¥–∞
            if (isNaN(flour) || flour <= 0) {
                flourInput.classList.add('error');
                errorMessage.style.display = 'block';
                resultsContainer.style.display = 'none';
                return;
            }
            
            flourInput.classList.remove('error');
            errorMessage.style.display = 'none';
            
            const ratio = flour / BASE_FLOUR;
            
            const milk = BASE_MILK * ratio;
            const butter = BASE_BUTTER * ratio;
            const sugar = BASE_SUGAR * ratio;
            const salt = BASE_SALT * ratio;
            const dryYeast = BASE_DRY_YEAST * ratio;
            const freshYeast = dryYeast * 3;
            const vanilla = BASE_VANILLA * ratio;
            
            // --- –ù–û–í–ê–Ø –õ–û–ì–ò–ö–ê –î–õ–Ø –Ø–ò–¶ ---
            const idealYolks = BASE_YOLKS * ratio;
            const idealWhites = BASE_WHITES * ratio;
            
            const roundedYolks = Math.round(idealYolks);
            const roundedWhites = Math.round(idealWhites);
            
            let eggNote = '';
            if (roundedYolks > 0 || roundedWhites > 0) {
                 const totalEggsNeeded = Math.max(roundedYolks, roundedWhites);
                 if (totalEggsNeeded > 0) {
                    if (roundedYolks > roundedWhites) {
                        const wholeEggs = roundedWhites;
                        const extraYolks = roundedYolks - roundedWhites;
                        eggNote = `–í–æ–∑—å–º–∏—Ç–µ ${wholeEggs > 0 ? wholeEggs : ''} ${wholeEggs === 1 ? '—Ü–µ–ª–æ–µ —è–π—Ü–æ' : (wholeEggs > 1 ? '—Ü–µ–ª—ã—Ö —è–π—Ü–∞' : '')} –∏ –¥–æ–±–∞–≤—å—Ç–µ –µ—â–µ ${extraYolks} ${extraYolks === 1 ? '–∂–µ–ª—Ç–æ–∫' : '–∂–µ–ª—Ç–∫–∞'}.`
                        if (wholeEggs === 0) eggNote = `–ü–æ–Ω–∞–¥–æ–±–∏—Ç—Å—è —Ç–æ–ª—å–∫–æ ${extraYolks} ${extraYolks === 1 ? '–∂–µ–ª—Ç–æ–∫' : '–∂–µ–ª—Ç–∫–∞'}.`;

                    } else if (roundedWhites > roundedYolks) {
                         const wholeEggs = roundedYolks;
                         const extraWhites = roundedWhites - roundedYolks;
                         eggNote = `–í–æ–∑—å–º–∏—Ç–µ ${wholeEggs > 0 ? wholeEggs : ''} ${wholeEggs === 1 ? '—Ü–µ–ª–æ–µ —è–π—Ü–æ' : '—Ü–µ–ª—ã—Ö —è–π—Ü–∞'} –∏ –¥–æ–±–∞–≤—å—Ç–µ –µ—â–µ ${extraWhites} ${extraWhites === 1 ? '–±–µ–ª–æ–∫' : '–±–µ–ª–∫–∞'}.`
                         if (wholeEggs === 0) eggNote = `–ü–æ–Ω–∞–¥–æ–±–∏—Ç—Å—è —Ç–æ–ª—å–∫–æ ${extraWhites} ${extraWhites === 1 ? '–±–µ–ª–æ–∫' : '–±–µ–ª–∫–∞'}.`;
                    } else { // yolks == whites
                        eggNote = `–ü–æ–Ω–∞–¥–æ–±–∏—Ç—Å—è ${roundedYolks} ${roundedYolks === 1 ? '—Ü–µ–ª–æ–µ —è–π—Ü–æ' : '—Ü–µ–ª—ã—Ö —è–π—Ü–∞'}.`;
                    }
                 }
            } else {
                 eggNote = "–ü—Ä–∏ —Ç–∞–∫–æ–º –º–∞–ª–æ–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–µ –º—É–∫–∏ —è–π—Ü–∞ –Ω–µ —Ç—Ä–µ–±—É—é—Ç—Å—è.";
            }
             // –ö–æ—Ä—Ä–µ–∫—Ü–∏—è –¥–ª—è –µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ —á–∏—Å–ª–∞
             eggNote = eggNote.replace("1 —Ü–µ–ª—ã—Ö —è–π—Ü–∞", "1 —Ü–µ–ª–æ–µ —è–π—Ü–æ");
             eggNote = eggNote.replace("1 –∂–µ–ª—Ç–∫–∞", "1 –∂–µ–ª—Ç–æ–∫");
             eggNote = eggNote.replace("1 –±–µ–ª–∫–∞", "1 –±–µ–ª–æ–∫");

            
            const formatValue = (value, unit = '–≥') => {
                if (value < 10 && !Number.isInteger(value)) return value.toFixed(1) + unit;
                return Math.round(value) + unit;
            };

            document.getElementById('mainIngredients').innerHTML = `
                <div class="ingredient-card">
                    <div class="ingredient-icon">üçû</div>
                    <div class="ingredient-info">
                        <div class="ingredient-name">–ú—É–∫–∞</div>
                        <div class="ingredient-value">${formatValue(flour)}</div>
                    </div>
                </div>
                <div class="ingredient-card">
                    <div class="ingredient-icon">ü•õ</div>
                    <div class="ingredient-info">
                        <div class="ingredient-name">–ú–æ–ª–æ–∫–æ (38¬∞C)</div>
                        <div class="ingredient-value">${formatValue(milk, ' –º–ª')}</div>
                    </div>
                </div>
                <div class="ingredient-card">
                    <div class="ingredient-icon">üßà</div>
                    <div class="ingredient-info">
                        <div class="ingredient-name">–°–ª–∏–≤–æ—á–Ω–æ–µ –º–∞—Å–ª–æ</div>
                        <div class="ingredient-value">${formatValue(butter)}</div>
                    </div>
                </div>
            `;
            
            document.getElementById('leavenIngredients').innerHTML = `
                <div class="ingredient-card">
                    <div class="ingredient-icon">üßÇ</div>
                    <div class="ingredient-info">
                        <div class="ingredient-name">–°–æ–ª—å</div>
                        <div class="ingredient-value">${formatValue(salt)} <span style="font-weight: 500; font-size: 0.9rem">‚âà ${(salt/5).toFixed(1)} —á.–ª.</span></div>
                    </div>
                </div>
                <div class="ingredient-card">
                    <div class="ingredient-icon">ü´ß</div>
                    <div class="ingredient-info">
                        <div class="ingredient-name">–î—Ä–æ–∂–∂–∏</div>
                        <div class="ingredient-value" style="font-size: 1rem; line-height: 1.4;">
                            –°—É—Ö–∏–µ: ${formatValue(dryYeast)}<br>
                            –°–≤–µ–∂–∏–µ: ${formatValue(freshYeast)}
                        </div>
                    </div>
                </div>
            `;
            
            document.getElementById('additiveIngredients').innerHTML = `
                <div class="ingredient-card">
                    <div class="ingredient-icon">üç¨</div>
                    <div class="ingredient-info">
                        <div class="ingredient-name">–°–∞—Ö–∞—Ä</div>
                        <div class="ingredient-value">${formatValue(sugar)}</div>
                    </div>
                </div>
                <div class="ingredient-card">
                    <div class="ingredient-icon">üåø</div>
                    <div class="ingredient-info">
                        <div class="ingredient-name">–í–∞–Ω–∏–ª—å–Ω—ã–π —Å–∞—Ö–∞—Ä</div>
                        <div class="ingredient-value">${formatValue(vanilla)}</div>
                    </div>
                </div>
            `;
            
            document.getElementById('eggIngredients').innerHTML = `
                <div class="ingredient-card" style="grid-column: 1 / -1;">
                    <div class="ingredient-icon">ü•ö</div>
                    <div class="ingredient-info">
                        <div class="ingredient-name">–Ø–π—Ü–∞ (C1, ~50–≥)</div>
                        <div class="ingredient-value">–ñ–µ–ª—Ç–∫–∏: ${roundedYolks} —à—Ç, –ë–µ–ª–∫–∏: ${roundedWhites} —à—Ç</div>
                        <div class="ingredient-note">
                            <b>–ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–π —Å–æ–≤–µ—Ç:</b> ${eggNote}<br>
                            <small><i>*–†–µ—Ü–µ–ø—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –±–æ–ª—å—à–µ –∂–µ–ª—Ç–∫–æ–≤ –¥–ª—è –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–π –Ω–µ–∂–Ω–æ—Å—Ç–∏ —Ç–µ—Å—Ç–∞.</i></small>
                        </div>
                    </div>
                </div>
            `;
            
            document.getElementById('notesList').innerHTML = `
                <li><b>–ê–∫—Ç–∏–≤–∞—Ü–∏—è –¥—Ä–æ–∂–∂–µ–π:</b> –†–∞—Å—Ç–≤–æ—Ä–∏—Ç–µ –¥—Ä–æ–∂–∂–∏ –∏ 1 —Å—Ç.–ª. —Å–∞—Ö–∞—Ä–∞ –≤ —Ç–µ–ø–ª–æ–º –º–æ–ª–æ–∫–µ (38¬∞C). –û—Å—Ç–∞–≤—å—Ç–µ –Ω–∞ 10-15 –º–∏–Ω –¥–æ –ø–æ—è–≤–ª–µ–Ω–∏—è "—à–∞–ø–æ—á–∫–∏".</li>
                <li><b>–ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –∏–Ω–≥—Ä–µ–¥–∏–µ–Ω—Ç–æ–≤:</b> –ú–∞—Å–ª–æ —Ä–∞—Å—Ç–æ–ø–∏—Ç–µ –∏ –æ—Å—Ç—É–¥–∏—Ç–µ. –Ø–π—Ü–∞ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Å–æ–≥–ª–∞—Å–Ω–æ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –≤—ã—à–µ.</li>
                <li><b>–ó–∞–º–µ—Å:</b> –°–º–µ—à–∞–π—Ç–µ –≤—Å–µ –∏–Ω–≥—Ä–µ–¥–∏–µ–Ω—Ç—ã. –í—ã–º–µ—à–∏–≤–∞–π—Ç–µ —Ç–µ—Å—Ç–æ 10-15 –º–∏–Ω—É—Ç –¥–æ –≥–ª–∞–¥–∫–æ—Å—Ç–∏ –∏ —ç–ª–∞—Å—Ç–∏—á–Ω–æ—Å—Ç–∏.</li>
                <li><b>–†–∞—Å—Å—Ç–æ–π–∫–∞:</b> –û—Å—Ç–∞–≤—å—Ç–µ –≤ —Ç–µ–ø–ª–æ–º –º–µ—Å—Ç–µ (28-30¬∞C) –Ω–∞ 1-1.5 —á–∞—Å–∞, –ø–æ–∫–∞ —Ç–µ—Å—Ç–æ –Ω–µ —É–≤–µ–ª–∏—á–∏—Ç—Å—è –≤–¥–≤–æ–µ.</li>
                <li><b>–í—ã–ø–µ–∫–∞–Ω–∏–µ:</b> –ü—Ä–∏ 180¬∞C 20-25 –º–∏–Ω—É—Ç (–¥–ª—è –Ω–µ–±–æ–ª—å—à–∏—Ö –∏–∑–¥–µ–ª–∏–π) –¥–æ –∑–æ–ª–æ—Ç–∏—Å—Ç–æ–≥–æ —Ü–≤–µ—Ç–∞.</li>
                <li><b>–ì–ª–∞–∑—É—Ä—å (–ø–æ –∂–µ–ª–∞–Ω–∏—é):</b> –ü–µ—Ä–µ–¥ –≤—ã–ø–µ—á–∫–æ–π —Å–º–∞–∂—å—Ç–µ –∏–∑–¥–µ–ª–∏—è —Å–º–µ—Å—å—é –∂–µ–ª—Ç–∫–∞ –∏ –º–æ–ª–æ–∫–∞ (1:1) –¥–ª—è –≥–ª—è–Ω—Ü–µ–≤–æ–π –∫–æ—Ä–æ—á–∫–∏.</li>
            `;
            
            resultsContainer.style.display = 'block';
        }
        
        document.addEventListener('DOMContentLoaded', function() {
            calculateIngredients();
            const flourInput = document.getElementById('flour');
            flourInput.focus();
            flourInput.select();
        });
    </script>
</body>
</html>